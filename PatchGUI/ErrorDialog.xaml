<ui:FluentWindow x:Class="PatchGUI.ErrorDialog"
                 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                 xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
                 Title="错误"
                 Width="620"
                 Height="360"
                 MinWidth="500"
                 MinHeight="300"
                 Cursor="Arrow"
                 ForceCursor="True"
                 ExtendsContentIntoTitleBar="True"
                 WindowBackdropType="Mica"
                 WindowCornerPreference="Round"
                 WindowStartupLocation="CenterOwner"
                 ResizeMode="NoResize">

    <ui:FluentWindow.Resources>
        <ResourceDictionary>
            <Style x:Key="AnimatedButtonStyle"
                   TargetType="ui:Button"
                   BasedOn="{StaticResource {x:Type ui:Button}}">
                <Setter Property="RenderTransformOrigin" Value="0.5,0.5" />
                <Setter Property="RenderTransform">
                    <Setter.Value>
                        <ScaleTransform ScaleX="1" ScaleY="1" />
                    </Setter.Value>
                </Setter>
                <Style.Triggers>
                    <Trigger Property="IsMouseOver" Value="True">
                        <Trigger.EnterActions>
                            <BeginStoryboard>
                                <Storyboard>
                                    <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)"
                                                     To="1.04"
                                                     Duration="0:0:0.12" />
                                    <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)"
                                                     To="1.04"
                                                     Duration="0:0:0.12" />
                                </Storyboard>
                            </BeginStoryboard>
                        </Trigger.EnterActions>
                        <Trigger.ExitActions>
                            <BeginStoryboard>
                                <Storyboard>
                                    <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)"
                                                     To="1.0"
                                                     Duration="0:0:0.12" />
                                    <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)"
                                                     To="1.0"
                                                     Duration="0:0:0.12" />
                                </Storyboard>
                            </BeginStoryboard>
                        </Trigger.ExitActions>
                    </Trigger>
                </Style.Triggers>
            </Style>
        </ResourceDictionary>
    </ui:FluentWindow.Resources>

    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <StackPanel Orientation="Horizontal"
                    Margin="0,0,0,10">
            <ui:SymbolIcon Symbol="ErrorCircle24"
                           FontSize="22"
                           Margin="0,0,10,0" />
            <TextBlock x:Name="TitleText"
                       Text="错误"
                       FontSize="16"
                       FontWeight="SemiBold"
                       VerticalAlignment="Center" />
        </StackPanel>

        <Border Grid.Row="1"
                CornerRadius="8"
                BorderBrush="#19000000"
                BorderThickness="1"
                Background="#80F9F9F9"
                Padding="12">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <TextBlock x:Name="MessageText"
                           TextWrapping="Wrap"
                           FontSize="13"
                           Foreground="#333" />
            </ScrollViewer>
        </Border>

        <StackPanel Grid.Row="2"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right"
                    Margin="0,12,0,0">
            <ui:Button x:Name="OpenLogButton"
                       Style="{StaticResource AnimatedButtonStyle}"
                       Appearance="Secondary"
                       Click="OpenLogButton_Click"
                       Margin="0,0,10,0"
                       MinWidth="160">
                <TextBlock x:Name="OpenLogButtonText"
                           Text="在文件管理器中打开这个文件" />
            </ui:Button>
            <ui:Button x:Name="CloseButton"
                       Style="{StaticResource AnimatedButtonStyle}"
                       Appearance="Primary"
                       Click="CloseButton_Click"
                       MinWidth="90">
                <TextBlock x:Name="CloseButtonText"
                           Text="关闭" />
            </ui:Button>
        </StackPanel>
    </Grid>
</ui:FluentWindow>

