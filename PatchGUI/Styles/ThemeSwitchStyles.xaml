<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:local="clr-namespace:PatchGUI">

    <Geometry x:Key="starGeometry">F0M100,50 C72.38589,50 50,72.38589 50,100 C50,72.38589 27.61411,50 0,50 C27.61411,50 50,27.61411 50,0 C50,27.61411 72.38589,50 100,50 z</Geometry>

    <!--  华丽的深色/浅色切换按钮样式 - 动画加速40%，常驻展开  -->
    <Style x:Key="ToggleButtonGorgeousThemeSwitchStyle" TargetType="{x:Type ToggleButton}">
        <Setter Property="Height" Value="22" />
        <Setter Property="BorderThickness" Value="0" />
        <Setter Property="HorizontalAlignment" Value="Left" />
        <Setter Property="VerticalContentAlignment" Value="Center" />
        <Setter Property="Padding" Value="6,0,0,0" />
        <Setter Property="Cursor" Value="Hand" />
        <Setter Property="Foreground" Value="{DynamicResource PrimaryTextBrush}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ToggleButton}">
                    <ControlTemplate.Resources>
                        <!-- 切换到深色主题动画 (加速40%) -->
                        <Storyboard x:Key="StoryboardChecked">
                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="thumb" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[1].(TranslateTransform.X)">
                                <EasingDoubleKeyFrame KeyTime="0:0:0.36" Value="66">
                                    <EasingDoubleKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseInOut" />
                                    </EasingDoubleKeyFrame.EasingFunction>
                                </EasingDoubleKeyFrame>
                                <EasingDoubleKeyFrame KeyTime="0:0:0.9" Value="63">
                                    <EasingDoubleKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseOut" />
                                    </EasingDoubleKeyFrame.EasingFunction>
                                </EasingDoubleKeyFrame>
                            </DoubleAnimationUsingKeyFrames>

                            <ColorAnimationUsingKeyFrames Storyboard.TargetName="backBorder" Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)">
                                <EasingColorKeyFrame KeyTime="0:0:0.36" Value="#171E33">
                                    <EasingColorKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseOut" />
                                    </EasingColorKeyFrame.EasingFunction>
                                </EasingColorKeyFrame>
                            </ColorAnimationUsingKeyFrames>

                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="glow1" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(TranslateTransform.X)">
                                <EasingDoubleKeyFrame KeyTime="0:0:0.36" Value="23">
                                    <EasingDoubleKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseInOut" />
                                    </EasingDoubleKeyFrame.EasingFunction>
                                </EasingDoubleKeyFrame>
                                <EasingDoubleKeyFrame KeyTime="0:0:0.78" Value="21">
                                    <EasingDoubleKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseOut" />
                                    </EasingDoubleKeyFrame.EasingFunction>
                                </EasingDoubleKeyFrame>
                            </DoubleAnimationUsingKeyFrames>

                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="glow2" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(TranslateTransform.X)">
                                <EasingDoubleKeyFrame KeyTime="0:0:0.36" Value="35">
                                    <EasingDoubleKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseInOut" />
                                    </EasingDoubleKeyFrame.EasingFunction>
                                </EasingDoubleKeyFrame>
                                <EasingDoubleKeyFrame KeyTime="0:0:0.78" Value="33">
                                    <EasingDoubleKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseOut" />
                                    </EasingDoubleKeyFrame.EasingFunction>
                                </EasingDoubleKeyFrame>
                            </DoubleAnimationUsingKeyFrames>

                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="glow3" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(TranslateTransform.X)">
                                <EasingDoubleKeyFrame KeyTime="0:0:0.36" Value="47">
                                    <EasingDoubleKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseInOut" />
                                    </EasingDoubleKeyFrame.EasingFunction>
                                </EasingDoubleKeyFrame>
                                <EasingDoubleKeyFrame KeyTime="0:0:0.78" Value="45">
                                    <EasingDoubleKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseOut" />
                                    </EasingDoubleKeyFrame.EasingFunction>
                                </EasingDoubleKeyFrame>
                            </DoubleAnimationUsingKeyFrames>

                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="cloud1" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(TranslateTransform.Y)">
                                <EasingDoubleKeyFrame KeyTime="0:0:0.36" Value="34">
                                    <EasingDoubleKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseInOut" />
                                    </EasingDoubleKeyFrame.EasingFunction>
                                </EasingDoubleKeyFrame>
                            </DoubleAnimationUsingKeyFrames>

                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="cloud2" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(TranslateTransform.Y)">
                                <EasingDoubleKeyFrame KeyTime="0:0:0.36" Value="26">
                                    <EasingDoubleKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseInOut" />
                                    </EasingDoubleKeyFrame.EasingFunction>
                                </EasingDoubleKeyFrame>
                            </DoubleAnimationUsingKeyFrames>

                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="stars" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(TranslateTransform.Y)">
                                <EasingDoubleKeyFrame KeyTime="0:0:0.36" Value="3">
                                    <EasingDoubleKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseInOut" />
                                    </EasingDoubleKeyFrame.EasingFunction>
                                </EasingDoubleKeyFrame>
                                <EasingDoubleKeyFrame KeyTime="0:0:0.78" Value="0">
                                    <EasingDoubleKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseOut" />
                                    </EasingDoubleKeyFrame.EasingFunction>
                                </EasingDoubleKeyFrame>
                            </DoubleAnimationUsingKeyFrames>

                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="moon" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(TranslateTransform.X)">
                                <EasingDoubleKeyFrame KeyTime="0:0:0.36" Value="-1">
                                    <EasingDoubleKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseInOut" />
                                    </EasingDoubleKeyFrame.EasingFunction>
                                </EasingDoubleKeyFrame>
                                <EasingDoubleKeyFrame KeyTime="0:0:0.78" Value="0">
                                    <EasingDoubleKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseOut" />
                                    </EasingDoubleKeyFrame.EasingFunction>
                                </EasingDoubleKeyFrame>
                            </DoubleAnimationUsingKeyFrames>

                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="star1" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(ScaleTransform.ScaleX)">
                                <EasingDoubleKeyFrame KeyTime="0:0:0.78" Value="1" />
                                <EasingDoubleKeyFrame KeyTime="0:0:1.14" Value="0" />
                                <EasingDoubleKeyFrame KeyTime="0:0:1.5" Value="1" />
                            </DoubleAnimationUsingKeyFrames>
                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="star2" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(ScaleTransform.ScaleX)">
                                <EasingDoubleKeyFrame KeyTime="0:0:0.96" Value="1" />
                                <EasingDoubleKeyFrame KeyTime="0:0:1.32" Value="0" />
                                <EasingDoubleKeyFrame KeyTime="0:0:1.68" Value="1" />
                            </DoubleAnimationUsingKeyFrames>
                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="star3" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(ScaleTransform.ScaleX)">
                                <EasingDoubleKeyFrame KeyTime="0:0:1.2" Value="1" />
                                <EasingDoubleKeyFrame KeyTime="0:0:1.5" Value="0" />
                                <EasingDoubleKeyFrame KeyTime="0:0:1.86" Value="1" />
                            </DoubleAnimationUsingKeyFrames>
                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="star4" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(ScaleTransform.ScaleX)">
                                <EasingDoubleKeyFrame KeyTime="0:0:1.32" Value="1" />
                                <EasingDoubleKeyFrame KeyTime="0:0:1.62" Value="0" />
                                <EasingDoubleKeyFrame KeyTime="0:0:1.98" Value="1" />
                            </DoubleAnimationUsingKeyFrames>
                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="star5" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(ScaleTransform.ScaleX)">
                                <EasingDoubleKeyFrame KeyTime="0:0:1.56" Value="1" />
                                <EasingDoubleKeyFrame KeyTime="0:0:1.8" Value="0" />
                                <EasingDoubleKeyFrame KeyTime="0:0:2.16" Value="1" />
                            </DoubleAnimationUsingKeyFrames>
                        </Storyboard>

                        <!-- 切换到浅色主题动画 (加速40%) -->
                        <Storyboard x:Key="StoryboardUnChecked">
                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="thumb" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[1].(TranslateTransform.X)">
                                <EasingDoubleKeyFrame KeyTime="0:0:0.36" Value="2">
                                    <EasingDoubleKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseInOut" />
                                    </EasingDoubleKeyFrame.EasingFunction>
                                </EasingDoubleKeyFrame>
                                <EasingDoubleKeyFrame KeyTime="0:0:0.78" Value="4">
                                    <EasingDoubleKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseOut" />
                                    </EasingDoubleKeyFrame.EasingFunction>
                                </EasingDoubleKeyFrame>
                            </DoubleAnimationUsingKeyFrames>

                            <ColorAnimationUsingKeyFrames Storyboard.TargetName="backBorder" Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)">
                                <EasingColorKeyFrame KeyTime="0:0:0.42" Value="#4685C0">
                                    <EasingColorKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseInOut" />
                                    </EasingColorKeyFrame.EasingFunction>
                                </EasingColorKeyFrame>
                            </ColorAnimationUsingKeyFrames>

                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="glow1" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(TranslateTransform.X)">
                                <EasingDoubleKeyFrame KeyTime="0:0:0.36" Value="-2">
                                    <EasingDoubleKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseInOut" />
                                    </EasingDoubleKeyFrame.EasingFunction>
                                </EasingDoubleKeyFrame>
                                <EasingDoubleKeyFrame KeyTime="0:0:0.78" Value="0">
                                    <EasingDoubleKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseOut" />
                                    </EasingDoubleKeyFrame.EasingFunction>
                                </EasingDoubleKeyFrame>
                            </DoubleAnimationUsingKeyFrames>

                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="glow2" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(TranslateTransform.X)">
                                <EasingDoubleKeyFrame KeyTime="0:0:0.36" Value="-2">
                                    <EasingDoubleKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseInOut" />
                                    </EasingDoubleKeyFrame.EasingFunction>
                                </EasingDoubleKeyFrame>
                                <EasingDoubleKeyFrame KeyTime="0:0:0.78" Value="0">
                                    <EasingDoubleKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseOut" />
                                    </EasingDoubleKeyFrame.EasingFunction>
                                </EasingDoubleKeyFrame>
                            </DoubleAnimationUsingKeyFrames>

                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="glow3" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(TranslateTransform.X)">
                                <EasingDoubleKeyFrame KeyTime="0:0:0.36" Value="-2">
                                    <EasingDoubleKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseInOut" />
                                    </EasingDoubleKeyFrame.EasingFunction>
                                </EasingDoubleKeyFrame>
                                <EasingDoubleKeyFrame KeyTime="0:0:0.78" Value="0">
                                    <EasingDoubleKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseOut" />
                                    </EasingDoubleKeyFrame.EasingFunction>
                                </EasingDoubleKeyFrame>
                            </DoubleAnimationUsingKeyFrames>

                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="cloud1" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(TranslateTransform.Y)">
                                <EasingDoubleKeyFrame KeyTime="0:0:0.36" Value="-6">
                                    <EasingDoubleKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseInOut" />
                                    </EasingDoubleKeyFrame.EasingFunction>
                                </EasingDoubleKeyFrame>
                                <EasingDoubleKeyFrame KeyTime="0:0:1.44" Value="4">
                                    <EasingDoubleKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseInOut" />
                                    </EasingDoubleKeyFrame.EasingFunction>
                                </EasingDoubleKeyFrame>
                                <EasingDoubleKeyFrame KeyTime="0:0:2.16" Value="0">
                                    <EasingDoubleKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseInOut" />
                                    </EasingDoubleKeyFrame.EasingFunction>
                                </EasingDoubleKeyFrame>
                            </DoubleAnimationUsingKeyFrames>

                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="cloud2" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(TranslateTransform.Y)">
                                <EasingDoubleKeyFrame KeyTime="0:0:0.36" Value="-4">
                                    <EasingDoubleKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseInOut" />
                                    </EasingDoubleKeyFrame.EasingFunction>
                                </EasingDoubleKeyFrame>
                                <EasingDoubleKeyFrame KeyTime="0:0:1.08" Value="3">
                                    <EasingDoubleKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseInOut" />
                                    </EasingDoubleKeyFrame.EasingFunction>
                                </EasingDoubleKeyFrame>
                                <EasingDoubleKeyFrame KeyTime="0:0:1.68" Value="0">
                                    <EasingDoubleKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseInOut" />
                                    </EasingDoubleKeyFrame.EasingFunction>
                                </EasingDoubleKeyFrame>
                            </DoubleAnimationUsingKeyFrames>

                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="stars" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(TranslateTransform.Y)">
                                <EasingDoubleKeyFrame KeyTime="0:0:0.36" Value="-36">
                                    <EasingDoubleKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseInOut" />
                                    </EasingDoubleKeyFrame.EasingFunction>
                                </EasingDoubleKeyFrame>
                            </DoubleAnimationUsingKeyFrames>

                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="moon" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(TranslateTransform.X)">
                                <EasingDoubleKeyFrame KeyTime="0:0:0.36" Value="34">
                                    <EasingDoubleKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseInOut" />
                                    </EasingDoubleKeyFrame.EasingFunction>
                                </EasingDoubleKeyFrame>
                            </DoubleAnimationUsingKeyFrames>
                        </Storyboard>

                        <!-- 鼠标悬停动画 (加速40%) -->
                        <Storyboard x:Key="ThumbMouseHover">
                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="sun" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(RotateTransform.Angle)">
                                <EasingDoubleKeyFrame KeyTime="0:0:0.36" Value="30">
                                    <EasingDoubleKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseInOut" />
                                    </EasingDoubleKeyFrame.EasingFunction>
                                </EasingDoubleKeyFrame>
                            </DoubleAnimationUsingKeyFrames>
                            <DoubleAnimation Storyboard.TargetName="highlightMask" Storyboard.TargetProperty="Opacity" To="1" Duration="0:0:0.3">
                                <DoubleAnimation.EasingFunction>
                                    <PowerEase EasingMode="EaseInOut" />
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                        </Storyboard>
                        <Storyboard x:Key="ThumbMouseLeave">
                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="sun" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(RotateTransform.Angle)">
                                <EasingDoubleKeyFrame KeyTime="0:0:0.42" Value="0">
                                    <EasingDoubleKeyFrame.EasingFunction>
                                        <PowerEase EasingMode="EaseInOut" />
                                    </EasingDoubleKeyFrame.EasingFunction>
                                </EasingDoubleKeyFrame>
                            </DoubleAnimationUsingKeyFrames>
                            <DoubleAnimation Storyboard.TargetName="highlightMask" Storyboard.TargetProperty="Opacity" To="0" Duration="0:0:0.3">
                                <DoubleAnimation.EasingFunction>
                                    <PowerEase EasingMode="EaseInOut" />
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                        </Storyboard>
                        <Style TargetType="{x:Type Path}">
                            <Setter Property="RenderTransformOrigin" Value="0.5,0.5" />
                            <Setter Property="RenderTransform">
                                <Setter.Value>
                                    <TransformGroup>
                                        <TranslateTransform />
                                    </TransformGroup>
                                </Setter.Value>
                            </Setter>
                        </Style>
                        <Style TargetType="{x:Type Rectangle}">
                            <Setter Property="RenderTransformOrigin" Value="0.5,0.5" />
                            <Setter Property="RenderTransform">
                                <Setter.Value>
                                    <TransformGroup>
                                        <TranslateTransform />
                                    </TransformGroup>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </ControlTemplate.Resources>
                    <Grid x:Name="templateRoot" Background="Transparent" SnapsToDevicePixels="False">
                        <Viewbox Stretch="Uniform">
                            <!-- 常驻展开：固定宽度100，不再折叠 -->
                            <Border x:Name="frameBorder" Width="100" Height="40" CornerRadius="20">
                                <Grid x:Name="secondGrid">
                                    <Border x:Name="backBorder" Width="100" Height="40" Background="#4685C0" CornerRadius="20" />
                                    <Canvas x:Name="stars">
                                        <Canvas.Resources>
                                            <Style TargetType="{x:Type Path}">
                                                <Setter Property="Data" Value="{StaticResource starGeometry}" />
                                                <Setter Property="Stretch" Value="UniformToFill" />
                                                <Setter Property="RenderTransformOrigin" Value="0.5,0.5" />
                                                <Setter Property="RenderTransform">
                                                    <Setter.Value>
                                                        <TransformGroup>
                                                            <ScaleTransform ScaleX="1" ScaleY="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Path}, Path=RenderTransform.Children[0].ScaleX}" />
                                                        </TransformGroup>
                                                    </Setter.Value>
                                                </Setter>
                                            </Style>
                                        </Canvas.Resources>
                                        <Canvas.RenderTransform>
                                            <TransformGroup>
                                                <TranslateTransform Y="-36" />
                                            </TransformGroup>
                                        </Canvas.RenderTransform>
                                        <Path Canvas.Left="11.5" Canvas.Top="26.5" Width="5" Height="5" Fill="White" />
                                        <Path x:Name="star3" Canvas.Left="24.635" Canvas.Top="26.5" Width="5" Height="5" Fill="White" />
                                        <Path x:Name="star5" Canvas.Left="44.5" Canvas.Top="29.5" Width="5" Height="5" Fill="White" />
                                        <Path x:Name="star1" Canvas.Left="20.635" Canvas.Top="5.5" Width="7" Height="7" Fill="White" />
                                        <Path x:Name="star2" Canvas.Left="48.5" Canvas.Top="10" Width="7" Height="7" Fill="White" />
                                        <Path Canvas.Left="32.315" Canvas.Top="12.5" Width="3" Height="3" Fill="White" />
                                        <Path Canvas.Left="23.635" Canvas.Top="18" Width="3" Height="3" Fill="White" />
                                        <Path Canvas.Left="33.999" Canvas.Top="24" Width="3" Height="3" Fill="White" />
                                        <Path Canvas.Left="47" Canvas.Top="22.5" Width="3" Height="3" Fill="White" />
                                        <Path Canvas.Left="39.481" Canvas.Top="7.997" Width="3" Height="3" Fill="White" />
                                        <Path x:Name="star4" Canvas.Left="10" Canvas.Top="11" Width="3" Height="3" Fill="White" />
                                    </Canvas>
                                    <Path x:Name="cloud1" Margin="2,2,-3,-9"
                                          Data="M158.99223,453.55724 C169.78284,423.31232 203.15378,392.41965 241.59875,404.12313 261.99875,383.72313 299.3,391.57463 305.3,392.77701 330.15525,362.39707 353.16314,370.00505 368.58869,378.91567 370.80287,377.8725 376.53823,377.01298 381.06677,376.82559 387.43795,354.90123 410.63981,354.27147 420.4351,355.75324 432.85079,341.48144 440.27525,342.83843 451.87985,342.32945 457.75133,307.27233 472.82215,288.94564 509.06064,292.16184 512.31051,292.45027 525.93938,292.61638 525.93938,292.61638 525.90428,295.34879 526.73875,460.86787 526.8053,465.68179 L154.99571,465.6552 z"
                                          Fill="#88FFFFFF" Stretch="UniformToFill" />
                                    <Path x:Name="cloud2" Width="100" Height="40" Margin="2,8,-2,-8"
                                          Data="M158.99223,453.55724 C169.78284,423.31232 203.15378,392.41965 241.59875,404.12313 261.99875,383.72313 299.3,391.57463 305.3,392.77701 337.22357,353.75764 390.50003,373.43798 398.90003,384.97667 412.50003,378.21261 430.04088,381.41688 430.04088,381.41688 436.82018,362.13027 456.18064,352.96024 465.00342,351.59457 460.57167,304.02021 510.55723,292.35177 521.33687,292.25901 530.92623,292.1765 525.93938,292.61638 525.93938,292.61638 525.90428,295.34879 526.73875,460.86787 526.8053,465.68179 L154.99571,465.6552 z"
                                          Fill="White" Stretch="UniformToFill" />
                                    <Rectangle x:Name="glow1" Width="79" Height="79" HorizontalAlignment="Left" VerticalAlignment="Center" Fill="#11FFFFFF" RadiusX="45"
                                               RadiusY="45" RenderTransformOrigin="0.5,0.5" />
                                    <Rectangle x:Name="glow2" Width="67" Height="67" HorizontalAlignment="Left" VerticalAlignment="Center" Fill="#22FFFFFF" RadiusX="45"
                                               RadiusY="45" RenderTransformOrigin="0.5,0.5" />
                                    <Rectangle x:Name="glow3" Width="55" Height="55" HorizontalAlignment="Left" VerticalAlignment="Center" Fill="#22FFFFFF" RadiusX="45"
                                               RadiusY="45" RenderTransformOrigin="0.5,0.5" />
                                    <Border x:Name="thumb" Width="36" Height="38" HorizontalAlignment="Left" CornerRadius="20" RenderTransformOrigin="0.5,0.5">
                                        <Border.RenderTransform>
                                            <TransformGroup>
                                                <RotateTransform Angle="0" />
                                                <TranslateTransform X="4" />
                                            </TransformGroup>
                                        </Border.RenderTransform>
                                        <Canvas>
                                            <Rectangle Canvas.Top="2.5" Width="36" Height="36" HorizontalAlignment="Right" VerticalAlignment="Bottom" RadiusX="45" RadiusY="45">
                                                <Rectangle.Fill>
                                                    <RadialGradientBrush Center="0.5,0.5" GradientOrigin="0.5,0.5" RadiusX="0.5" RadiusY="0.5">
                                                        <GradientStop Offset="1" Color="#00000000" />
                                                        <GradientStop Offset="0.7" Color="#E5000000" />
                                                    </RadialGradientBrush>
                                                </Rectangle.Fill>
                                            </Rectangle>
                                            <Grid x:Name="sun" Canvas.Top="2.5" Width="33" Height="33" HorizontalAlignment="Left" Background="#F3C62B"
                                                  RenderTransformOrigin="0.5,0.5">
                                                <Grid.RenderTransform>
                                                    <TransformGroup>
                                                        <RotateTransform Angle="0" />
                                                    </TransformGroup>
                                                </Grid.RenderTransform>
                                                <Grid.Clip>
                                                    <RectangleGeometry RadiusX="20" RadiusY="20" Rect="0,0,33,33" />
                                                </Grid.Clip>
                                                <Path Width="29" Margin="-1.5,-1.5,0,0" HorizontalAlignment="Left" VerticalAlignment="Top"
                                                      Data="M195.79568,256.36186 C128.27033,194.80746 208.6956,103.20326 276.96226,155.20326 220.40909,129.80395 148.71988,171.59981 195.79568,256.36186 z"
                                                      Stretch="Uniform" Visibility="Visible">
                                                    <Path.Fill>
                                                        <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.3,1">
                                                            <GradientStop Offset="0" Color="Transparent" />
                                                            <GradientStop Offset="0.1" Color="White" />
                                                            <GradientStop Offset="1" Color="Transparent" />
                                                        </LinearGradientBrush>
                                                    </Path.Fill>
                                                    <Path.RenderTransform>
                                                        <TransformGroup>
                                                            <RotateTransform Angle="2" />
                                                        </TransformGroup>
                                                    </Path.RenderTransform>
                                                </Path>
                                                <Path Width="28" Margin="0,0,-0.6,-2.2" HorizontalAlignment="Right" VerticalAlignment="Bottom"
                                                      Data="M195.79568,256.36186 C128.27033,194.80746 208.6956,103.20326 276.96226,155.20326 220.40909,129.80395 148.71988,171.59981 195.79568,256.36186 z"
                                                      Stretch="Uniform" Visibility="Visible">
                                                    <Path.Fill>
                                                        <LinearGradientBrush StartPoint="1,0" EndPoint="0,1">
                                                            <GradientStop Offset="1" Color="#00000000" />
                                                            <GradientStop Offset="0.3" Color="#66000000" />
                                                            <GradientStop Offset="0" Color="#00000000" />
                                                        </LinearGradientBrush>
                                                    </Path.Fill>
                                                    <Path.RenderTransform>
                                                        <TransformGroup>
                                                            <RotateTransform Angle="200" />
                                                        </TransformGroup>
                                                    </Path.RenderTransform>
                                                </Path>
                                                <Ellipse x:Name="highlightMask" Opacity="0">
                                                    <Ellipse.Fill>
                                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                                            <GradientStop Color="#6FFFFFFF" />
                                                            <GradientStop Offset="1" Color="Transparent" />
                                                        </LinearGradientBrush>
                                                    </Ellipse.Fill>
                                                </Ellipse>
                                                <Border x:Name="moon">
                                                    <Border.Effect>
                                                        <DropShadowEffect BlurRadius="4" RenderingBias="Performance" ShadowDepth="2" Color="Gray" />
                                                    </Border.Effect>
                                                    <Border.RenderTransform>
                                                        <TransformGroup>
                                                            <TranslateTransform X="34" />
                                                        </TransformGroup>
                                                    </Border.RenderTransform>
                                                    <Grid>
                                                        <Grid.Clip>
                                                            <RectangleGeometry RadiusX="20" RadiusY="20" Rect="0,0,33,33" />
                                                        </Grid.Clip>
                                                        <Rectangle Fill="#C4C9D4" />
                                                        <Border Width="10" Height="10" Margin="6,14,0,0" HorizontalAlignment="Left" VerticalAlignment="Top" Background="#9A9FB2"
                                                                BorderBrush="#66000000" BorderThickness="0.6" CornerRadius="45" />
                                                        <Border Width="6" Height="6" Margin="13,5,0,0" HorizontalAlignment="Left" VerticalAlignment="Top" Background="#9A9FB2"
                                                                BorderBrush="#66000000" BorderThickness="0.6" CornerRadius="45" />
                                                        <Border Width="7" Height="7" Margin="20,18,0,0" HorizontalAlignment="Left" VerticalAlignment="Top" Background="#9A9FB2"
                                                                BorderBrush="#66000000" BorderThickness="0.6" CornerRadius="45" />
                                                        <Path Width="29" Margin="-1.5,-1.5,0,0" HorizontalAlignment="Left" VerticalAlignment="Top"
                                                              Data="M195.79568,256.36186 C128.27033,194.80746 208.6956,103.20326 276.96226,155.20326 220.40909,129.80395 148.71988,171.59981 195.79568,256.36186 z"
                                                              Stretch="Uniform" Visibility="Visible">
                                                            <Path.Fill>
                                                                <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                                                    <GradientStop Offset="0" Color="Transparent" />
                                                                    <GradientStop Offset="0.2" Color="#DDFFFFFF" />
                                                                    <GradientStop Offset="1" Color="Transparent" />
                                                                </LinearGradientBrush>
                                                            </Path.Fill>
                                                            <Path.RenderTransform>
                                                                <TransformGroup>
                                                                    <RotateTransform Angle="2" />
                                                                </TransformGroup>
                                                            </Path.RenderTransform>
                                                        </Path>
                                                        <Path Width="28" Margin="0,0,-1.0,-2.0" HorizontalAlignment="Right" VerticalAlignment="Bottom"
                                                              Data="M195.79568,256.36186 C128.27033,194.80746 208.6956,103.20326 276.96226,155.20326 220.40909,129.80395 148.71988,171.59981 195.79568,256.36186 z"
                                                              Stretch="Uniform" Visibility="Visible">
                                                            <Path.Fill>
                                                                <LinearGradientBrush StartPoint="0.2,0" EndPoint="0.5,1">
                                                                    <GradientStop Offset="0" Color="#00000000" />
                                                                    <GradientStop Offset="0.1" Color="#66000000" />
                                                                    <GradientStop Offset="1" Color="#00000000" />
                                                                </LinearGradientBrush>
                                                            </Path.Fill>
                                                            <Path.RenderTransform>
                                                                <TransformGroup>
                                                                    <RotateTransform Angle="192" />
                                                                </TransformGroup>
                                                            </Path.RenderTransform>
                                                        </Path>
                                                    </Grid>
                                                </Border>
                                            </Grid>
                                        </Canvas>
                                        <Border.Triggers>
                                            <EventTrigger RoutedEvent="MouseEnter">
                                                <BeginStoryboard Storyboard="{StaticResource ThumbMouseHover}" />
                                            </EventTrigger>
                                            <EventTrigger RoutedEvent="MouseLeave">
                                                <BeginStoryboard Storyboard="{StaticResource ThumbMouseLeave}" />
                                            </EventTrigger>
                                        </Border.Triggers>
                                    </Border>
                                    <Border x:Name="ShadowElement" Margin="-2,-2" BorderBrush="#5C6170" BorderThickness="1.8" CornerRadius="21"
                                            RenderTransformOrigin="0.5,0.5">
                                        <Border.Effect>
                                            <DropShadowEffect x:Name="Shadow" BlurRadius="7" RenderingBias="Performance" ShadowDepth="0" />
                                        </Border.Effect>
                                    </Border>
                                </Grid>
                                <Border.Clip>
                                    <RectangleGeometry RadiusX="20" RadiusY="20" Rect="0,0,100,40" />
                                </Border.Clip>
                            </Border>
                        </Viewbox>
                        <!-- 移除了 VisualStateGroup，按钮常驻展开 -->
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsChecked" Value="true">
                            <Trigger.EnterActions>
                                <BeginStoryboard Storyboard="{StaticResource StoryboardChecked}" />
                            </Trigger.EnterActions>
                            <Trigger.ExitActions>
                                <BeginStoryboard Storyboard="{StaticResource StoryboardUnChecked}" />
                            </Trigger.ExitActions>
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter Property="Opacity" Value="0.4" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>
